:root {
    --siang: #87ceeb; --malam: #1a1a2e;
    --accent: #f39c12;
}

* { box-sizing: border-box; }
body { margin: 0; overflow: hidden; font-family: 'Trebuchet MS', sans-serif; transition: 2s; background: var(--siang); }
body.night { background: var(--malam); }

/* World Layout */
#game-world { position: relative; width: 100vw; height: 100vh; }
#sky-obj { position: absolute; top: 40px; left: 40px; font-size: 60px; transition: 3s; }

.mountain-range { 
    position: absolute; bottom: 150px; width: 100%; height: 250px; 
    background: #27ae60; clip-path: polygon(0 100%, 25% 20%, 50% 100%, 75% 30%, 100% 100%);
}

.warung-container {
    position: absolute; bottom: 100px; left: 10%; width: 250px; height: 150px;
    background: #e67e22; border: 4px solid #000; z-index: 10;
}
.signboard { background: white; text-align: center; font-weight: bold; padding: 5px; border-bottom: 3px solid #000; font-size: 12px; }
.daus-npc { position: absolute; bottom: -5px; right: 20px; font-size: 50px; cursor: pointer; transition: 0.3s; }
.daus-npc:hover { transform: scale(1.1); }

.road { position: absolute; bottom: 0; width: 100%; height: 80px; background: #333; }
.motor { position: absolute; bottom: 10px; font-size: 40px; animation: drive 5s infinite linear; }

/* Entitas / Objects */
.entitas { position: absolute; cursor: pointer; transition: 0.3s; z-index: 15; }
.entitas:hover { transform: scale(1.3) rotate(10deg); }
#pohon { bottom: 120px; right: 50px; font-size: 100px; }
#buaya { bottom: 90px; left: 40%; font-size: 45px; }
#siput { bottom: 85px; right: 20%; font-size: 25px; animation: crawl 10s infinite linear; }

/* UI Chat */
#chat-ui {
    position: fixed; right: 20px; bottom: 20px; width: 320px; height: 450px;
    background: rgba(255,255,255,0.95); border: 4px solid var(--accent);
    border-radius: 15px; display: flex; flex-direction: column; z-index: 100;
    box-shadow: 0 10px 30px rgba(0,0,0,0.3);
}
.chat-header { background: var(--accent); color: #000; padding: 10px; font-weight: bold; display: flex; justify-content: space-between; }
#chat-messages { flex: 1; padding: 15px; overflow-y: auto; display: flex; flex-direction: column; gap: 10px; }
.chat-input { padding: 10px; display: flex; gap: 5px; border-top: 1px solid #ddd; }
input { flex: 1; border: 1px solid #ccc; border-radius: 5px; padding: 8px; }

/* Overlays */
.overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.9); display: flex; justify-content: center; align-items: center; z-index: 1000; }
.card { background: white; padding: 30px; border-radius: 20px; text-align: center; max-width: 400px; color: #333; }
.guide { text-align: left; margin: 15px 0; font-size: 14px; }

/* Animasi */
@keyframes drive { from { left: -100px; } to { left: 110vw; } }
@keyframes crawl { from { right: -50px; } to { right: 110vw; } }
#kiss-fx { position: fixed; inset: 0; display: flex; justify-content: center; align-items: center; font-size: 200px; z-index: 2000; animation: kiss 0.8s forwards; pointer-events: none; }
@keyframes kiss { 0% { scale: 0; opacity: 0; } 50% { scale: 1.5; opacity: 1; } 100% { scale: 2; opacity: 0; } }

.hidden { display: none !important; }
.msg { padding: 8px 12px; border-radius: 10px; font-size: 14px; line-height: 1.4; }
.ai { align-self: flex-start; background: #eee; }
.user { align-self: flex-end; background: var(--accent); color: white; }
